window.__require=function t(n,e,i){function o(r,c){if(!e[r]){if(!n[r]){var h=r.split("/");if(h=h[h.length-1],!n[h]){var u="function"==typeof __require&&__require;if(!c&&u)return u(h,!0);if(a)return a(h,!0);throw new Error("Cannot find module '"+r+"'")}}var l=e[r]={exports:{}};n[r][0].call(l.exports,function(t){return o(n[r][1][t]||t)},l,l.exports,t,n,e,i)}return e[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({ActiveButton:[function(t,n,e){"use strict";cc._RF.push(n,"6266bpIJwxEspBzHECaLy9G","ActiveButton"),cc.Class({extends:cc.Component,properties:{activeNode:cc.Node,buttonMp3:{default:null,tooltip:"\u5982\u679c\u4e3a\u7a7a\uff0c\u90a3\u5c31\u64ad\u653e\u9ed8\u8ba4\u97f3\u6548",type:cc.AudioClip}},onLoad:function(){var t=this;this.node.color=cc.color(255,255,255),this.node.on("touchstart",function(n){t.node.color=cc.color(177,177,177)}),this.node.on("touchend",function(n){t.node.color=cc.color(255,255,255),t.activeNode.active=!t.activeNode.active,t.buttonMp3?cc.audioEngine.playEffect(t.buttonMp3,!1):ai.say("click_btn")}),this.node.on("touchcancel",function(n){t.node.color=cc.color(255,255,255)})}}),cc._RF.pop()},{}],Calc:[function(t,n,e){"use strict";cc._RF.push(n,"bd235OObZVO5YwQdzQiU2My","Calc");var i=function(){function t(t,n){var e=[],i=!0,o=!1,a=void 0;try{for(var r,c=t[Symbol.iterator]();!(i=(r=c.next()).done)&&(e.push(r.value),!n||e.length!==n);i=!0);}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}window.calc={getShoulingNum:function(t){var n=null,e=this.bigNumToEnum(t),o=i(e,2),a=o[0],r=o[1];cc.log("eee",a,r);var c=225;if((r-=13)%2!=0&&(c/=10,r+=1),a*=c,a=Math.sqrt(a),r/=2,cc.log("-------",a,r),r<5)return a*=Math.pow(10,r),this.numberToArr(a);for(;a>1;)a/=10,r++;for(;a<.1;)a*=10,r--;if(n=[],r<=12){var h=r%4;r-=h,a*=h=[1,10,100,1e3,1e4][h];var u=Math.floor(a);for(a-=u,u>0&&n.push(u),r+=4;r;)r-=4,a*=1e4,u=Math.floor(a),n.push(u),a-=u}else{var l=(r-=12)%3;r-=l,a*=l=[1,10,100,1e3][l];var s=Math.floor(a);for(a-=s,s>0&&n.push(s);r;)r-=3,a*=1e3,s=Math.floor(a),n.push(s),a-=s;var d=function(){a*=1e4,s=Math.floor(a),n.push(s),a-=s};d(),d(),d(),d()}return n.reverse()},bigNumToEnum:function(t){var n=t.length-1,e=0,i=1,o=t[n];o<10?(o/=10,e=1,i=10):o<100?(o/=100,e=2,i=100):o<1e3?(o/=1e3,e=3,i=1e3):(o/=1e4,e=4,i=1e4);return function(n){if(n<4){var a=t[n];e+=4,o+=a/(i*=1e4)}else{var r=t[n];e+=3,o+=r/(i*=1e3)}}(n-1),e+=function(t){return t<=4?4*(t-1):3+3*(t-1)}(t.length-2),[o,e]},getTouziBigNum:function(t,n){var e=[[1,1],[1,1e3],[2,100],[3,10]];n<4&&(t*=e[n][1],n=e[n][0]);for(var i=[],o=0;o<n;o++)i[o]=0;i[n]=1;var a=calc.mul(i,Math.floor(1e3*t));return a=calc.rightMove(a,3),cc.log(calc.show(a)),a},getPctTimes:function(t,n){for(var e=1,i=n,o=0;i;)i=Math.floor(i/10),e*=10,o++;n=e-n;for(var a=calc.mul(t,n);o>3;)a=calc.rightMove(a,3),o-=3;return a=calc.rightMove(a,o)},show:function(t){if(0===t.length||1===t.length&&0===t[0])return"0";if(t.length<3){if(0===t[0])return t[1]?String(t[1]):"0";var n=Math.floor(t[0]/10),e=".";n<10?e+="00":n<100&&(e+="0"),e+=String(n);var i=t[1]?t[1]:0;return String(i)+e}var o="";if(t.length<6)o=["\u4e07","\u4ebf","\u5146"][t.length-3];else{var a=t.length-6,r=Math.floor(a/52),c=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][a%52];if(o="",0===r)o=c+c;else if(1===r)o=c+c+c;else{r-=2;var h=["$","@","#"][Math.floor(r/2)];o=r%2==0?h+c+c:h+h+c}}var u=t[t.length-1],l=t[t.length-2];t.length<6&&(l=Math.floor(l/10));var s="";for(l<10?s="00":l<100&&(s="0");l&&l%10==0;)l/=10;return 0===l?String(u)+o:String(u)+"."+s+String(l)+o},sub:function(t,n){if(t.length<n.length)return null;for(var e=[],i=0,o=0;o<n.length;o++){var a=t[o]-n[o]-i;a<0?(i=1,a+=o<4?1e4:1e3):i=0,e.push(a)}for(var r=n.length;r<t.length;r++){var c=t[r]-i;c<0?(i=1,c+=r<4?1e4:1e3):i=0,e.push(c)}if(i)return null;for(;e.length>1&&!e[e.length-1];)e.length--;return e},rightMove:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t=[].concat(o(t));for(var e=1,i=0;i<n;i++)e*=10;t[0]=parseInt(t[0]/e);for(var a=1;a<t.length;a++){var r=t[a]%e;t[a]=parseInt(t[a]/e),t[a-1]=a<5?t[a-1]+1e4/e*r:t[a-1]+1e3/e*r}for(var c=t.length-1;c>0&&!(t[c]>0);c--)t.length--;return t},numberToArr:function(t){for(var n=parseInt(t),e=[parseInt(1e4*(t-n))];n;)e.length<5?(e.push(n%1e4),n=parseInt(n/1e4)):(e.push(n%1e3),n=parseInt(n/1e3));return e},add:function(t,n){if(t.length>n.length){var e=[n,t];t=e[0],n=e[1]}for(var i=0,o=[],a=0;a<t.length;a++){var r=t[a]+n[a]+i;i=0,a<4?r>=1e4&&(r-=1e4,i=1):r>=1e3&&(r-=1e3,i=1),o.push(r)}for(var c=t.length;c<n.length;c++){var h=n[c]+i;i=0,c<4?h>=1e4&&(h-=1e4,i=1):h>=1e3&&(h-=1e3,i=1),o.push(h)}return i&&o.push(1),o},mul:function(t,n){for(var e=[],i=0,o=0;o<t.length;o++)if(o<4){var a=t[o]*n+i;i=0,a>1e4&&(i=Math.floor(a/1e4),a%=1e4),e.push(a)}else{var r=t[o]*n+i;i=0,r>1e3&&(i=Math.floor(r/1e3),r%=1e3),e.push(r)}for(;i;)e.length<4?(e.push(i%1e4),i=Math.floor(i/1e4)):(e.push(i%1e3),i=Math.floor(i/1e3));return e}},cc._RF.pop()},{}],Challenge:[function(t,n,e){"use strict";function i(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}cc._RF.push(n,"aa4a9cCD1NLQIcNGg9umOpn","Challenge"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){for(var t=this.node.pool,n=0;n<10;n++){var e=n+1,i=ai.challengeData[e][hjm["challenge"+e]].weight,o=t.add("tan"+e);hjm["tan"+e]=o.tan,n>4&&(o.y=-148),o.x=n%5*167,o.id=e,o.num=i}var a=ai.challengeData[0][hjm.challenge0].weight;this.node.bigBar.num=a,this.touchId=-1},onEnable:function(){for(var t=this.node.pool.pool,n=0;n<10;n++){var e=n+1,i=ai.challengeData[e][hjm["challenge"+e]].weight;t["tan"+e].num=i}var o=ai.challengeData[0][hjm.challenge0].weight;this.node.bigBar.num=o,this.touchId=-1,this.touchButton(1)},touchOn:function(t){t.subSelf(hjm._challenge.pool);var n=t.in.apply(t,i(hjm._challenge.pool.pool));n?this.touchButton(n.id):t.in(hjm._challenge.bigBar)&&this.touchButton(0)},touchButton:function(t){if(this.touchId!==t){if(-1!==this.touchId){(0===this.touchId?hjm._challenge.bigBar:hjm._challenge.pool.pool["tan"+this.touchId]).color=cc.color(255,255,255),this.touchId=-1}this.touchId=t;var n=null;(n=0===t?hjm._challenge.bigBar:hjm._challenge.pool.pool["tan"+t]).color=cc.color(255,246,26),this.select(t,n)}},select:function(t,n){for(var e=ai.challengeData[t],o=[].concat(i(hjm._challengeDataBar.pool)),a=0;a<o.length;a++)o[a].del();var r=function(t,i){var o=e[i],a=(o.monsterId,o.weight),r=o.addMonster,c=o.addValue;t.spr=n.tan,t.str="\u4e00\u5355"+a+"\u4efd"+dyl.data("Buff_ID."+r).Buff+" x "+c,t.speed=r>=400&&r<=410,t.sale=r>=300&&r<=310},c=hjm["challenge"+t],h=c;c>0&&(h=c-1),this.node.okNum=c+"/3311";for(var u=0;u<10;u++){var l=h+u;if(!e[l])break;var s=hjm._challengeDataBar.add("tan"+l);r(s,l),s.ok=l<c,s.y=151*-u}}}),cc._RF.pop()},{}],DylAd:[function(t,n,e){"use strict";cc._RF.push(n,"f8c18Hs2QVNoY2ruupVy940","DylAd"),cc.Class({extends:cc.Component,properties:{isDebug:!1},onLoad:function(){if(!ai._isFristDylAd){ai._isFristDylAd=!0;var t=this.isDebug,n=!1;t?setTimeout(function(){n=!0},10):tz(2,function(){yomob.TGSDK.setDebugModel(!0),yomob.TGSDK.initialize("Jm50jt3WF35737cj0TrD"),yomob.TGSDK.preload()}),dyl.__adFun=function(){},dyl.__isLoading=!1;dyl.addAd=function(e){e&&(dyl.__adFun=e);return(t?n:yomob.TGSDK.couldShowAd("GfadZFzn2F1ngCMLwQE"))?(t?cc.log("\u5047\u5e7f\u544a\u51fa\u6765\u4e86\uff0c\u54c8\u54c8\u54c8\u54c8\u54c8"):yomob.TGSDK.showAd("GfadZFzn2F1ngCMLwQE"),dyl.__adFun(),!0):(cc.warn(222222),!dyl.__isLoading&&(dyl.__isLoading=!0,cc.loader.loadRes("dylLoadingAd",function(t,n){var e=cc.instantiate(n);cc.director.getScene().getChildren()[0].addChild(e)}),!1))}}}}),cc._RF.pop()},{}],DylBar:[function(t,n,e){"use strict";cc._RF.push(n,"627c13XFIpEA5JjMypfts2c","DylBar"),cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2665 \u8840\u6761",executeInEditMode:!0},properties:{_isNew:!0,_maxHp:1,_hp:1,_barMaxLen:0,progress:{default:1,min:0,max:1,slide:!0,notify:function(t){return this.resetProgress(t)}}},__preload:function(){var t=this;if(this.delActFun=function(){return null},this.checkIsNew(),this._bar=this.node.getChildByName("bar"),this.node.set=function(n){return t.setFun(n)},this.node.change=function(n,e){return t.changeFun(n,e)},0===this._barMaxLen){var n=this.getSize(this._bar).x;if(n<1){if(this.getSize(this.node).x<1)return cc.warn("\u8840\u6761\u603b\u957f\u5ea6\u4e3a0, \u5f53\u524d\u8282\u70b9\u548cbar\u8282\u70b9\u7684\u957f\u5ea6\u90fd\u662f0",n);this._bar.width=this.node.width,this._bar.height=this.node.height}this._barMaxLen=n/this.progress}},getSize:function(t){var n=(t=t.node?t.node:t).getContentSize(),e=n.width,i=n.height;return cc.v2(e,i)},resetProgress:function(t){t>0&&(this._barMaxLen=this.getSize(this._bar).x/t),this._bar.width=this._barMaxLen*this.progress},resetSpr:function(){this.node.getComponent(cc.Sprite).spriteFrame=this.backSpr,this._bar.getComponent(cc.Sprite).spriteFrame=this.barSpr;var t=this.getSize(this.node);this._maxX=t.x*this.scaleX,this._maxY=t.y*this.scaleY,this._bar.height=this._maxY,this._bar.setAnchorPoint(0,.5),this._bar.setPosition(-.5*this._maxX,0),this.resetData()},resetData:function(){this._maxHp<=0?this._bar.width=0:this._bar.width=this._barMaxLen*this._hp/this._maxHp},checkIsNew:function(){},setFun:function(t){if("string"==typeof t||"number"==typeof t)return"string"==typeof t?(this._maxHp=Number(t),this._maxHp<0&&(this._maxHp=0),"0"===t[0]?this._hp=this._maxHp:this._hp>this._maxHp&&(this._hp=this._maxHp),this._hp):t>this._maxHp?(this._hp=this._maxHp,this._hp):t<0?(this._hp=0,this._hp):void(this._hp=t);cc.warn("label \u7684string \u7684data\u7c7b\u578b\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57",t)},changeFun:function(t,n){var e=this;if(this.delActFun(),this._maxHp<=0)return cc.log("\u6700\u5927\u8840\u91cf\u90fd\u662f 0"),this._bar.width=0;n>this._maxHp&&(n=this._maxHp),n===t&&(this._bar.width=this._barMaxLen*this._hp/this._maxHp),this._bar.width=this._barMaxLen*n/this._maxHp;var i=300;i*=t>n?1:-1;var o=(t-n)*this._barMaxLen/(i*this._maxHp);this.delActFun=dyl.update(function(n){return e._bar.width=e._bar.width+i*n,!((o-=n)<=0&&(e._bar.width=e._barMaxLen*t/e._maxHp,1))})}}),cc._RF.pop()},{}],DylButton:[function(t,n,e){"use strict";cc._RF.push(n,"cd72cG+IilO6qAadQpr/XqC","DylButton");var i=function(){function t(t,n){var e=[],i=!0,o=!1,a=void 0;try{for(var r,c=t[Symbol.iterator]();!(i=(r=c.next()).done)&&(e.push(r.value),!n||e.length!==n);i=!0);}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();cc.Enum({Null:0,NextScene:1,NextLevel:2,Restart:3,ExitGame:4,Popup:5,Popdown:6,Buy:7});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u264e \u6309\u94ae",executeInEditMode:!0,inspector:"packages://dyl-button/DylButton.js"},properties:{touchFun:{default:function(){return new cc.Component.EventHandler},type:cc.Component.EventHandler,displayName:"\u89e6\u53d1\u4e8b\u4ef6"},nodeName:"",jsName:"",funName:"",popupNode:cc.Node,popdownNode:cc.Node,sceneType:{default:"NextLevel",notify:function(){"Buy"===this.sceneType&&this.setBuy()}},nextScene:"",coin:{default:0,displayName:"\u4ef7\u683c"},coinName:{default:"coin",displayName:"\u8d27\u5e01\u5355\u4f4d"},toolName:{default:"",displayName:"\u7269\u54c1\u8def\u5f84\uff08.\u9694\u5f00\uff09"},hasSetBuy:!1,isAutoSave:{default:!1,displayName:"\u662f\u5426\u8981\u81ea\u52a8\u4fdd\u5b58"}},__preload:function(){this.myInit()},setBuy:function(){if(!this.hasSetBuy){this.hasSetBuy=!0;var t=new cc.Node("noMoney");this.node.addChild(t),t.addComponent(cc.Sprite),t.width=this.node.width,t.height=this.node.height,t=new cc.Node("coinNum"),this.node.addChild(t),t.addComponent(cc.Label),t.lineHeight=this.node.height,t.fontSize=.8*this.node.height,t=new cc.Node("hasBuy"),this.node.addChild(t),t.addComponent(cc.Sprite),t.width=this.node.width,t.height=this.node.height}},getTopNode:function(){return cc.director.getScene().getChildren()[0]},getSceneArr:function(){return["aa","bb"]},myInit:function(){var t=null;this.node.getChildByName("topSpr")&&((t=this.node.getChildByName("topSpr")).active=!1);var n=this,e=null;this.node.on("touchstart",function(i){t?t.active=!0:(e=n.node.getScale(),n.node.color,n.node.setScale(.92*e))}),this.node.on("touchend",function(i){if(t)return t.active=!1,void n.onClick();n.node.setScale(e),n.onClick()}),this.node.on("touchcancel",function(i){"Buy"!==n.sceneType&&(t?t.active=!1:n.node.setScale(e))}),"Buy"===this.sceneType&&this.initBuy()},initBuy:function(){var t=this;this.node.add=function(){for(var n=arguments.length,e=Array(n),i=0;i<n;i++)e[i]=arguments[i];for(var o=e.length-1;o>=0;o--){var a=e[o];"number"==typeof a?t.coin=a:"string"==typeof a?t.toolName=a:"function"==typeof a&&(t.endCheckBuyFun=a)}t.initBuy1()},""===this.toolName||this.initBuy1()},initBuy1:function(){var t=this;this.dyl_noMoneyNode=this.node.getChildByName("noMoney");var n=this.node.getChildByName("coinNum");n&&(this.dyl_coinNumLab=n.getComponent(cc.Label),this.dyl_coinNumLab.string=String(this.coin)),this.dyl_hasBuyNode=this.node.getChildByName("hasBuy");var e=this.toolName.split(".");if(1===e.length){var o=e[0];"number"==typeof hjm[o]?(this.dyl_isCanBuy=function(){return!0},this.dyl_buy=function(){hjm[o]++,hjm[this.coinName]-=this.coin}):(this.dyl_isCanBuy=function(){return!hjm[o]},this.dyl_buy=function(){hjm[o]=!0,hjm[this.coinName]-=this.coin})}else{if(2!==e.length)return cc.error("\u53c2\u6570\u5e94\u8be5\u662fstr\u6216\u8005str.str",this.toolName);var a=i(e,2),r=a[0],c=a[1];if(Array.isArray(hjm[r]))this.dyl_isCanBuy=function(){return hjm[r].indexOf(c)<0},this.dyl_buy=function(){hjm[r].push(c),hjm[this.coinName]-=this.coin,hjm[r]=hjm[r]};else{var h=null,u=hjm[r];for(var l in u){h="number"!=typeof u[l];break}if(null===h)return cc.warn("DylButton",this.toolName,"\u8fd9\u662f\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u4e0d\u77e5\u9053\u5230\u5e95\u662f\u4e0d\u662f\u552f\u4e00\u7269\u54c1");h?(this.dyl_isCanBuy=function(){return!u[c]},this.dyl_buy=function(){u[c]=!0,hjm[this.coinName]-=this.coin}):(this.dyl_isCanBuy=function(){return!0},_hjmIsObjTabFun(r)?this.dyl_buy=function(){u[c]?u[c]++:u[c]=1,hjm[r]=hjm[r],hjm[this.coinName]-=this.coin}:this.dyl_buy=function(){u[c]?u[c]++:u[c]=1,hjm[this.coinName]-=this.coin})}}this.dyl_updateBuy&&_hjmDelArrFun(this.coinName,this.dyl_updateBuy),this.dyl_updateBuy=function(){t.dyl_isCanBuy()?dyl.set(t.dyl_hasBuyNode,"active",!1):dyl.set(t.dyl_hasBuyNode,"active",!0),hjm[t.coinName]<t.coin?dyl.set(t.dyl_noMoneyNode,"active",!0):dyl.set(t.dyl_noMoneyNode,"active",!1)},_hjmAddArrFun(this.coinName,this.dyl_updateBuy),this.dyl_updateBuy()},buy:function(){this.dyl_isCanBuy()&&hjm[this.coinName]>=this.coin&&(this.endCheckBuyFun?this.endCheckBuyFun()&&this.dyl_buy():this.dyl_buy())},onDestroy:function(){this.dyl_updateBuy&&_hjmDelArrFun(this.coinName,this.dyl_updateBuy)},clickFun:function(){""!==this.funName&&hjm[this.nodeName].getComponent(this.jsName)[this.funName]()},onClick:function(){var t=this;if(cc.loader.load(cc.url.raw("resources/dyl/button.mp3"),function(t,n){t&&cc.error(t),cc.audioEngine.play(n,!1,1)}),"NextScene"===this.sceneType)return this.clickFun(),cc.director.loadScene(this.nextScene);if("NextLevel"===this.sceneType){this.clickFun();var n=cc.director.getScene().name,e=n.replace(/[^0-9]/gi,""),i=n.split(e);if(1===i.length)return cc.error("\u8fd9\u4e2a\u5173\u5361\u547d\u540d\u6709\u95ee\u9898\uff0c\u4e0d\u662f\u53ea\u6709\u4e00\u4e2a\u6570\u5b57");e=Number(e)+1;var o=i[0]+String(e)+i[1];return cc.director.loadScene(o)}if("ExitGame"===this.sceneType){if(this.clickFun(),cc.sys.isMobile)return cc.director.end();if(cc.sys.isBrowser)return window.opener=null,window.open("","_self"),void window.close();cc.sys.isNative}else{if("Restart"===this.sceneType)return this.clickFun(),void cc.director.loadScene(cc.director.getScene().name);"Popup"===this.sceneType?(this.clickFun(),this.popupNode.active=!0):"Popdown"===this.sceneType?this.popdownNode.del(function(){return t.clickFun()}):"Buy"===this.sceneType?this.buy():this.clickFun()}}}),cc._RF.pop()},{}],DylLab:[function(t,n,e){"use strict";cc._RF.push(n,"c1eaa+MGhdOJKV/CWWREtED","DylLab");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};cc.Class({extends:cc.Component,editor:{menu:"dyl/\u32a3 \u6587\u5b57",inspector:"packages://dyl-nowshow/DylNotshow.js"},properties:{},__preload:function(){this.dylPreload()},dylPreload:function(){var t=this;this.node._hasDylLabInit||(this.node._hasDylLabInit=!0,this._data={},this.initLab(),this.node.say=function(n,e){var i=t._data[n];if(!i)return cc.error("\u6ca1\u6709\u8fd9\u79cdlabel\u7684\u8282\u70b9",n);for(var o=[],a=0;a<i.length;a++){var r=i[a].getComponent(cc.Label);r&&(r.string="",o.push(r))}if(0===o.length)return cc.warn("say\u6ca1\u6709label\u76f8\u5173\u7684\u8282\u70b9",n,e);t._data[n].value=e;for(var c=function(t){var n=++o[t]._dylSayId,i=e.length,a=0;dyl.update(function(r){if(n!==o[t]._dylSayId)return!1;var c=(a+=r)/.1+1>>0;return c>=i&&(c=i),lab.string=e.slice(0,c),c<i})},h=0;h<o.length;h++)c(h)})},addDataNode:function(t,n){this._data[t]?this._data[t].push(n):this._data[t]=[n]},setProgressBar:function(t){t._dylProgressBar=t.getComponent(cc.ProgressBar),t.set=function(t){if("number"==typeof t)return t>1&&(t=1),t<0&&(t=0),this._dylProgressBar.progress=t,t;cc.warn("progressBar \u7684data\u7c7b\u578b\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57",t)};for(var n=t.name.split("_"),e=0;e<n.length;e++){var i=n[e];""!==i&&this.addDataNode(i,t)}},setSameNode:function(t){for(var n=t.name.split("_"),e=0;e<n.length;e++){var i=n[e];""!==i&&(this.addDataNode(i,t),this._data[i].value=t)}},setLabel:function(t){t._dylLabel=t.getComponent(cc.Label),t.set=function(t){if("string"==typeof t||"number"==typeof t){var n=String(t);this._dylLabel.string=n,this._dylLabel._dylSayId++}else cc.warn("label \u7684string \u7684data\u7c7b\u578b\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57",t)},t.change=function(t,n){},t._dylLabel._dylSayId=0;for(var n=t.name.split("_"),e=0;e<n.length;e++){var i=n[e];""!==i&&this.addDataNode(i,t)}},setDylNode:function(t){for(var n=t.name.split("_"),e=0;e<n.length;e++){var i=n[e];""!==i&&this.addDataNode(i,t)}},setData:function(t,n){var e=this._data[t];Object.defineProperty(this.node,t,{get:function(){return void 0===e.value?cc.error("\u6ca1\u6709\u8fd9\u4e2a\u6570\u636e",t):e.value},set:function(t){if("boolean"!=typeof t)if(t&&"object"===(void 0===t?"undefined":i(t))&&"function"!=typeof t.getChildren&&void 0!==t.x&&void 0!==t.y){!0===t.x&&(t.x=e[0].x),!0===t.y&&(t.y=e[0].y);for(var n=t.sub(e[0]),o=0;o<e.length;o++){var a=e[o];a.setPosition(n.add(a))}}else if("cc.Color"!==cc.js.getClassName(t))if(cc.Action.prototype.isPrototypeOf(t))for(var r=0;r<e.length;r++){var c=e[r],h=t.clone();c.runAction(h)}else if(Array.isArray(t)){var u=t;if(1===u.length)for(var l=u[0],s=0;s<e.length;s++){e[s].rotation=l}else if(2===u.length)for(var d=u[0],f=u[1],p=0;p<e.length;p++){e[p].setScale(d,f)}}else{if("cc.Node"===cc.js.getClassName(t))return t.getComponent(cc.Sprite)?void(e.value.getComponent(cc.Sprite).spriteFrame=t.getComponent(cc.Sprite).spriteFrame):cc.error("\u5982\u679c\u63a5\u53d7\u8282\u70b9\uff0c\u90a3\u5c31\u4ee3\u8868\u590d\u5236\u8fd9\u4e2a\u8282\u70b9\u7684\u7eb9\u7406\uff0c\u4f46\u4f60\u8fdecc.Sprite\u7ec4\u4ef6\u90fd\u6ca1\u6709");if("function"!=typeof t){for(var m=e.value;;){for(var g=!1,y=0;y<e.length;y++){var v=e[y];if(v.set){var _=v.set(t);if(void 0!==_){t=_,g=!0;break}}}if(!g)break}e.value=t,void 0===m?m=t:"function"==typeof m.getChildren&&(m=t);for(var b=0;b<e.length;b++){var j=e[b];"function"==typeof j.change&&j.change(t,m)}"function"==typeof e.notify&&e.notify(t,m)}else e.notify=t}else for(var w=0;w<e.length;w++){e[w].color=t}else for(var A=0;A<e.length;A++){e[A].active=t}}}),void 0!==n&&(this.node[t]=n)},initLab:function(){for(var t=this.node.getChildren(),n=0;n<t.length;n++){var e=t[n];if("say"===e.name)return cc.error("say \u662fapi\u7684\u540d\u5b57\uff0c\u4e0d\u80fd\u7528");e.getComponent("DylBar")?(this.setDylNode(e),e.getComponent("DylBar").__preload()):e.getComponent(cc.Label)||e.getComponent(cc.ProgressBar)?e.getComponent(cc.ProgressBar)?this.setProgressBar(e):e.getComponent(cc.Label)?this.setLabel(e):cc.error("\u6211\u4e5f\u4e0d\u77e5\u9053\u6709\u4ec0\u4e48\u9519"):this.setSameNode(e)}for(var i in this._data)if(this.setData(i,this.node[i]),1===this._data[i].length){var o=this._data[i][0];o.getComponent(cc.Sprite)&&(o.dylSpriteNodeName=i)}}}),cc._RF.pop()},{}],DylList:[function(t,n,e){"use strict";cc._RF.push(n,"578a4sw++tE7JtsD2057jFj","DylList");var i=cc.Enum({up:0,down:1,left:2,right:3});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u5217\u8868"},properties:{dir:{default:i.up,type:i},d:8,startP:5,maxId:0,isTouch:!0},update:function(t){},__preload:function(){var t=this;this.isNotNode=!1;var n=function(){t.isNotNode=!0;for(var n=t.node.getChildren(),e=n.length-1;e>=0;e--)n[e].active=!1};if(0===this.maxId)return n();if(this.maxId<0&&(this.maxId=0),this.oriStartP=this.startP,this.isVertical=this.dir===i.up||this.dir===i.down,this.t=0,this.addFun=null,this.buttonFun=null,this.runFun=null,this.nodeArr=[],this.poolArr=[],this.nodeLen=0,this.startId=0,this.endId=0,this.len=this.isVertical?dyl.getSize(this.node).y:dyl.getSize(this.node).x,this.len<1)return cc.warn("DylList \u5f53\u524d\u8282\u70b9\u7684\u957f\u5ea6\u5c0f\u4e8e1",this.len);for(var e=this.node.getChildren(),o=0;o<e.length;o++){var a=this.isVertical?dyl.getSize(e[o]).y:dyl.getSize(e[o]).x;if(a<1)return cc.warn("DylList \u8fd9\u4e2a\u8282\u70b9\u7684\u957f\u5ea6\u5c0f\u4e8e1",e[o].name);this.poolArr.push(this.addPool(e[o],a)),this.poolArr[o].d=a,this.nodeLen+=a+this.d}this.minP=this.startP,this.getMaxP(),this.poolArr.add=function(t){var n=t%this.length;return n<0&&(n+=this.length),this[n].add()},this.add(this.startP),this.node.add=function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];if("number"!=typeof i[0]){t.addFun=null,t.buttonFun=null;for(var a=0;a<i.length;a++)if("function"==typeof i[a])t.addFun?t.buttonFun=i[a]:t.addFun=i[a];else if("number"==typeof i[a]){if(t.maxId=i[a],0===t.maxId)return n();t.isNotNode=!1,t.maxId<0&&(t.maxId=0),t.getMaxP()}return t.resetArr(t.startId,t.endId,0,0),t.resetPos({p:0,sId:0,eId:0}),t.add(t.oriStartP),t.nodeArr}return t.add(i[0]),t.nodeArr},this.isTouch?this.setTouch():this.setButton()},getMaxP:function(){if(this.maxId<=0)this.maxP=0;else{var t=this.poolArr.length,n=Math.floor(this.maxId/t),e=n*this.nodeLen;n=this.maxId-n*t;for(var i=0;i<n;i++)e+=this.poolArr[i].d+this.d;e=(e-=this.oriStartP)-this.d-this.len,this.maxP=e}},setTouch:function(){var t=this,n=!1,e=0,o=0,a=0,r=null;this.node.on("touchstart",function(i){if(!t.isNotNode){var c=i.getLocation();t.runFun&&(t.runFun(),t.runFun=null),n=!1,e=t.isVertical?c.y:c.x,o=e,a=e,r=c}}),this.node.on("touchmove",function(e){if(!t.isNotNode){var c=e.getLocation();(c.x-r.x)*(c.x-r.x)+(c.y-r.y)*(c.y-r.y)>=10&&(n=!0),o=a,a=t.isVertical?c.y:c.x,t.dir===i.right||t.dir===i.up?t.add(o-a+t.startP):t.add(a-o+t.startP)}});var c=function(t,n){return(t=n.convertToNodeSpace(t)).x>=0&&t.x<=n.width&&t.y>=0&&t.y<=n.height},h=function(e){if(!t.isNotNode){var r=e.getLocation();if(n)t.startP<=t.minP||t.startP>=t.maxP?t.checkOut():o+4<a?t.dir===i.down||t.dir===i.left?t.quickMove(1):t.quickMove(-1):a+4<o?t.dir===i.down||t.dir===i.left?t.quickMove(-1):t.quickMove(1):t.checkOut();else if(t.buttonFun)for(var h=t.nodeArr.length-1;h>=0;h--)if(c(r,t.nodeArr[h])){var u=t.nodeArr[h];return void t.buttonFun(u.dylListId,u)}}};this.node.on("touchend",h),this.node.on("touchcancel",h)},setButton:function(){var t=this;this.node.on("touchend",function(n){if(t.buttonFun)for(var e=n.getLocation(),i=t.nodeArr.length-1;i>=0;i--)if(t.nodeArr[i].getBoundingBoxToWorld().contains(e)){var o=t.nodeArr[i];return void t.buttonFun(o.dylListId,o)}})},quickMove:function(t){var n=this,e=-300*t,i=600*t,o=-16e3*t,a=this.startP,r=t>0?this.maxP:this.minP;this.runFun=dyl.update(function(c){return(i+=(a-r)*t>0?(e+=o*c)*c:e*c)*t<=0?(n.runFun=null,n.checkOut(),!1):(a+=i*c,n.add(a),!0)})},quickOut:function(t){var n=this,e=this.startP,i=0;if(null>this.maxP)this.maxP,this.maxP;else if(null<this.minP)this.minP,this.minP;this.runFun=dyl.update(function(o){var a=(i+=o)/time;return a>=1?(n.add(null),n.runFun=null,!1):(a=Math.sqrt(a),n.add(null*a*t+e),!0)})},checkOut:function(){var t=this;if(0!==this.maxId){var n=this.startP,e=null,i=0;if(this.startP<this.minP)e=this.minP;else if(this.minP>this.maxP)e=this.minP;else{if(!(this.startP>this.maxP))return;e=this.maxP}this.runFun=dyl.update(function(o){return i+=o,t.add((e-n)*i/.1+n),!(i>.1&&(t.add(e),t.runFun=null,1))})}},getStartData:function(t){var n=0,e=0,i=0,o=Math.floor(t/this.nodeLen);t=t-o*this.nodeLen,o*=this.poolArr.length;var a=0;for(a=0;a<this.poolArr.length;a++){var r=this.poolArr[a];if(!(t>r.d))break;t-=r.d+this.d,o++}n=t,e=o,t=this.poolArr[a%this.poolArr.length].d-t;for(var c=this.poolArr.length,h=this.len-this.d;t<=h;)a=(a+1)%c,t+=this.poolArr[a].d+this.d,o++;if(i=o+1,this.maxId){i>this.maxId&&(i=this.maxId);var u=this.poolArr.length;for(a=e;a<i&&a<0;a++){var l=a%u;l+=u,l%=u,n-=this.poolArr[l].d+this.d,e++}}return{p:n,sId:e,eId:i}},add:function(t){cc.log("x",t),this.startP=t;var n=this.getStartData(t);this.resetArr(this.startId,this.endId,n.sId,n.eId),this.resetPos(n)},resetPos:function(t){for(var n=-t.p,e=0;e<this.nodeArr.length;e++){var o=this.nodeArr[e],a=.5*o.d+n;this.dir===i.up?o.y=a-.5*this.len:this.dir===i.down?o.y=.5*this.len-a:this.dir===i.right?o.x=a-.5*this.len:o.x=.5*this.len-a,n+=o.d+this.d}},resetArr:function(t,n,e,i){var o=this,a=this.nodeArr;this.nodeArr=[];var r=function(n,e){for(var i=n;i<e;i++)a[i-t].dylDel()},c=function(t,n){for(var e=t;e<n;e++){var i=o.poolArr.add(e);o.nodeArr.push(i),i.dylListId=e,o.addFun&&o.addFun(e,i)}};i<=t||n<=e?(r(t,n),c(e,i)):(r(t,e),r(i,n),c(e,t),function(n,e){for(var i=n;i<e;i++)o.nodeArr.push(a[i-t])}(Math.max(t,e),Math.min(n,i)),c(n,i));for(var h=this.poolArr.length-1;h>=0;h--)this.poolArr[h].dylReset();this.startId=e,this.endId=i},addPool:function(t,n){var e=[],i=[];e.push(t),t.dylDel=function(){e.push(this)},t.d=n,t.active=!0;var o={},a=this.node;return o.add=function(){if(e.length>0)return e.pop();if(i.length>0){var o=i.pop();return o.active=!0,o}var r=cc.instantiate(t);return r.active=!0,a.addChild(r),r.d=n,r.dylDel=function(){e.push(this)},r},o.dylReset=function(){for(var t=e.length-1;t>=0;t--)e[t].active=!1,i.push(e[t]);e.length=0},o}}),cc._RF.pop()},{}],DylMain:[function(t,n,e){"use strict";cc._RF.push(n,"16386x0i1VC7q9eDPwQmRQm","DylMain");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function a(t){return Array.isArray(t)?t:Array.from(t)}cc.Enum({Null:0,SmallBig:1,Red:2,Shake:3});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2622 \u4e3b\u903b\u8f91",executeInEditMode:!0,inspector:"packages://dyl-main/DylMain.js"},properties:{touch:"",isPhysics:{default:!1,displayName:"\u7269\u7406"},isShowDebug:{default:!1,displayName:"\u8c03\u8bd5"},gravity:{default:cc.v2(0,-320),displayName:"\u91cd\u529b"}},_refresh:function(){},__preload:function(){this.myInit()},onEnable:function(){},initPhysics:function(){this.isPhysics&&(cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.isShowDebug?cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit:cc.director.getPhysicsManager().debugDrawFlags=0,cc.director.getPhysicsManager().gravity=this.gravity)},myInit:function(){this.initPhysics(),""!==this.touch&&this.setTouch()},onDestroy:function(){var t=this.__loadData;for(var n in t)cc.loader.releaseRes(n)},setTouch:function(){var t=this.node,n=null;t.button=t.button?t.button:[];var e=function(t,n){for(var e=0;e<n.length;e++){if(n[e].active)if(n[e].getBoundingBoxToWorld().contains(t))return n[e]}return null},r=this.node.touch,c=[];Object.defineProperty(this.node,"touch",{get:function(){return r},set:function(t){if(Array.isArray(t)){var n=a(t);r=n[0],c=n.slice(1)}else r=t,c=[];"string"!=typeof r&&cc.warn("touch\u7684\u72b6\u6001\u5e94\u8be5\u662f\u5b57\u7b26\u4e32\uff0c\u8fd9\u91cc\u5374\u4e0d\u662f",void 0===r?"undefined":i(r),r)}}),this.node.touch||(this.node.touch="touch");var h=this.node.getComponent(this.touch),u=this.node.touch,l=function(n){var i=n.getLocation(),o=cc.v2(t.convertToNodeSpace(i)),a=t.getContentSize(),r=[a.width,a.height],c=r[0],h=r[1],u=[c/2,h/2];return c=u[0],h=u[1],o.subSelf(cc.v2(c,h)),o.in=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e(i,n)},o},s=!0,d=function(t,n){if(n&&!0!==n&&!Array.isArray(n))return cc.warn("touch"+t+"return data \u4e0d\u662ftrue\uff0c\u4e0d\u662f\u5426\uff0c\u4e5f\u4e0d\u662f\u6570\u7ec4",r,n);Array.isArray(n)&&(c=n)},f=null,p=0,m=!1;this.node.on("touchstart",function(i){if(n=e(i.getLocation(),t.button))return h.buttonOn&&h.buttonOn(n),!0;if(!t.touch)return s=null,null;u=t.touch;var a=l(i);if(p++,f=a,m=!1,h[t.touch+"LongOn"]||h[t.touch+"LongUp"]||h[t.touch+"LongOut"]||h[t.touch+"LongEnd"]){var r=p;setTimeout(function(){if(r===p){if(u!==t.touch)return null;m=!0,s=!h[t.touch+"LongOn"]||h[t.touch+"LongOn"].apply(h,[f].concat(o(c))),d("on",s)}},500)}s=!h[t.touch+"On"]||h[t.touch+"On"].apply(h,[a].concat(o(c))),d("on",s)}),this.node.on("touchmove",function(e){if(n)return!0;if(!s)return null;if(u!==t.touch)return null;var i=l(e);f=i,s=!h[t.touch+"Move"]||h[t.touch+"Move"].apply(h,[i].concat(o(c))),d("move",s)},this),this.node.on("touchend",function(e){if(n)return h.buttonEnd?h.buttonEnd(n):h.buttonUp&&h.buttonUp(n),!0;if(p++,!s)return null;if(u!==t.touch)return null;var i=l(e);return h[t.touch+"LongEnd"]&&m?(s=h[t.touch+"LongEnd"].apply(h,[i].concat(o(c))),void d("longEnd",s)):h[t.touch+"LongUp"]&&m?(s=h[t.touch+"LongUp"].apply(h,[i].concat(o(c))),void d("longUp",s)):h[t.touch+"End"]?(s=h[t.touch+"End"].apply(h,[i].concat(o(c))),void d("end",s)):void(h[t.touch+"Up"]?(s=h[t.touch+"Up"].apply(h,[i].concat(o(c))),d("up",s)):s=!0)},this),this.node.on("touchcancel",function(e){if(n)return h.buttonEnd?h.buttonEnd(n):h.buttonOut&&h.buttonOut(n),!0;if(p++,!s)return null;if(u!==t.touch)return null;var i=l(e);return h[t.touch+"LongEnd"]&&m?(s=h[t.touch+"LongEnd"].apply(h,[i].concat(o(c))),void d("longEnd",s)):h[t.touch+"LongOut"]&&m?(s=h[t.touch+"LongOut"].apply(h,[i].concat(o(c))),void d("longOut",s)):h[t.touch+"End"]?(s=h[t.touch+"End"].apply(h,[i].concat(o(c))),void d("end",s)):void(h[t.touch+"Out"]?(s=h[t.touch+"Out"].apply(h,[i].concat(o(c))),d("out",s)):s=!0)},this)},setRun:function(){var t=this;this.node.run=function(){for(var n=function(){},e=arguments[0],i=function(t,n){return function(){t(),n()}},o=function(n,e){return function(){t.node.js[n](),e()}},a=function(t,n){return function(){var e=t;e.push(function(){return null});for(var i=e.length,o=0;o<e.length;o++)u(e[o],function(){--i<=0&&n()})()}},r=function(t,n){return function(){var e=t.node;e.node&&(e=e.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var i=cc.callFunc(function(){n()}),o=cc.sequence(t,i);e.runAction(o)}},c=function(t,n){return function(){var i=e;i.node&&(i=i.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var o=cc.callFunc(n),a=cc.sequence(t,o);i.runAction(a)}},h=function(t,n){return function(){var i=e;i.node&&(i=i.node);var o=cc.delayTime(t),a=cc.callFunc(n),r=cc.sequence(o,a);i.runAction(r)}},u=function(t,n){return"function"==typeof t?i(t,n):"number"==typeof t?h(t,n):"string"==typeof t?o(t,n):Array.isArray(t)?a(t,n):t.node?r(t,n):c(t,n)},l=arguments.length-1;l>0;l--){var s=arguments[l];n=u(s,n)}n()}},setRand:function(){var t=this.rand;this.node.rand=function(n){var e=(t=(30853*t+253)%4671341)/4671341;return n?Math.floor(e*n):e},this.node.rand.set=function(n){t=n}}}),cc._RF.pop()},{}],DylPool:[function(t,n,e){"use strict";cc._RF.push(n,"34f084lYpFNQo1fsLe3Vr4s","DylPool");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2668 \u5bf9\u8c61\u6c60"},properties:{isEffect:!1},logPath:function(t){var n="";(function t(e){e&&(n=e.name+" "+n,t(e.parent))})(this.node),cc.log(n)},__preload:function(){for(var t=this.node._components,n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}this.preInit(),this.initPool()},preInit:function(){for(var t=[].concat(o(this.node.getChildren())),n=0;n<t.length;n++)t[n].parent=this.node.parent;var e=cc.v2(this.node);this.node.setPosition(cc.v2(0,0));var i=cc.instantiate(this.node);i.dylSpriteNodeName=i.name,i.name="tmp";for(var a=[].concat(o(this.node._components)),r=a.length-1;r>=0;r--)a[r].destroy();for(var c=0;c<t.length;c++)t[c].parent=i;i.setPosition(this.node),this.node.setPosition(e),i.parent=this.node},myPlay:function(t,n){for(var e=[t].concat(o(t.getChildren())),i=dyl.counter(function(){return t.del()},e.length),a=0;a<e.length;a++)this.playNode(e[a],n,i)},setColor:function(t,n){if(null!==n)for(var e=[t].concat(o(t.getChildren())),i=e.length-1;i>=0;i--)e[i].color=n},playNode:function(t,n,e){return t.getComponent(cc.ParticleSystem)?this.playParticleSystem(t,e):t.getComponent(cc.Animation)?this.playAnimation(t,e):t.getComponent(cc.Label)?this.playLabel(t,n,e):void e()},playAnimation:function(t,n){var e=t.getComponent(cc.Animation);if(e.on("finished",function t(){e.off("finished",t),n()}),!e.defaultClip)return cc.error("\u53ea\u80fd\u8fd0\u884c\u9ed8\u8ba4\u52a8\u753b\uff0c\u8fd9\u91cc\u6ca1\u6709",t.name);e.play()},playLabel:function(t,n,e){t.getComponent(cc.Label).string=String(n);var i=Number(n);if(i<0)t.color=cc.color(255,10,10);else{if(!(i>0))return t.opacity=0,e();t.color=cc.color(10,255,10)}t.setPosition(cc.v2(0,0)),t.opacity=255;tz(t,[!0,.5,cc.v2(0,200),!1,"opacity",0],e)},playParticleSystem:function(t,n){var e=t.getComponent(cc.ParticleSystem);e.resetSystem();var i=e.duration+e.life+e.lifeVar;tz(i,n)},resetDylNode:function(t,n){var e=t.getComponent(n);e&&e.__preload()},initPool:function(){var t=this,n=this.node.getChildren()[0];this.resetDylNode(n,"DylLab"),n.active=!1;var e=[],o=[];o.push(n),this.isEffect?n.del=function(){this.active=!1,o.push(this);var t=this.__poolId;e[t]=e[e.length-1],e[t].__poolId=t,e.length=e.length-1,this.__poolId=null}:n.del=function(){this.active=!1,o.push(this);var t=e.indexOf(this);if(-1===t)return cc.error("\u8fd9\u4e2a\u8282\u70b9\u5df2\u7ecf\u88ab\u5220\u9664\u4e86\uff0c\u4e0d\u80fd\u518d\u5220\u9664",this.name,t,e,this);e.splice(t,1),e[this.name]===this&&(e[this.name]=null)};var a=this;this.isEffect?this.node.add=function(){for(var n=null,r=null,c=null,h=arguments.length,u=Array(h),l=0;l<h;l++)u[l]=arguments[l];for(var s=u.length-1;s>=0;s--){var d=u[s],f=void 0===d?"undefined":i(d);"string"!==f&&"number"!==f?"cc.Vec2"!==(f=cc.js.getClassName(d))&&"cc.Node"!==f?"cc.Color"!==f||(c=d):n=d:r=d}var p=null;return o.length<1?((p=cc.instantiate(e[0])).parent=this,p.del=function(){this.active=!1,o.push(this);var t=this.__poolId;e[t]=e[e.length-1],e[t].__poolId=t,e.length=e.length-1,this.__poolId=null}):(p=o[o.length-1],o.length=o.length-1,p.active=!0),t.resetDylNode(p,"DylLab"),p.__poolId=e.length,e.push(p),null===n?cc.warn("\u4f4d\u7f6e\u6ca1\u6709\u8bbe\u7f6e"):(p.setPosition(n),a.setColor(p,c),a.myPlay(p,r),p)}:this.node.add=function(n){var i=null;return o.length<1?((i=cc.instantiate(e[0])).parent=this,i.del=function(){this.active=!1,o.push(this);var t=e.indexOf(this);if(-1===t)return cc.error("\u8fd9\u4e2a\u8282\u70b9\u5df2\u7ecf\u88ab\u5220\u9664\u4e86\uff0c\u4e0d\u80fd\u518d\u5220\u9664",this.name,t,e,this);e.splice(t,1),e[this.name]===this&&(e[this.name]=null)}):(i=o[o.length-1],o.length=o.length-1,i.active=!0),t.resetDylNode(i,"DylLab"),e.push(i),void 0!==n&&(i.name=n,e[n]=i),i},this.node.pool=e}}),cc._RF.pop()},{}],DylTileMap:[function(t,n,e){"use strict";cc._RF.push(n,"7b877KCI9xM9Iv8hDcLvFg0","DylTileMap"),cc.Class({extends:cc.Component,editor:{menu:"dyl/\u25a6 \u74e6\u5757\u5730\u56fe",inspector:"packages://dyl-nowshow/DylNotshow.js"},properties:{},__preload:function(){this.initTileMap()},initTileMap:function(){var t=this.node.getComponent(cc.TiledMap),n=t.getMapSize(),e=t.getTileSize().width;this.node.map=dyl.addMap(n.width,n.height),this.node.posMap=dyl.addMapLayer(n.width,n.height,e),this.node.add=function(i,o){var a=node.getChildByName(i).getComponent(cc.TiledLayer);if(a){for(var r=a.getLayerSize(),c=a.getMapTileSize().width,h=r.width-1;h>=0;h--)for(var u=r.height-1;u>=0;u--){var l=a.getTileGIDAt(h,r.height-u-1);o(cc.v2(h,u),l)}return map.d=c,map}for(var s=(a=t.getObjectGroup(i)).getObjects(),d=s.length-1;d>=0;d--){var f=s[d].x/e,p=s[d].y/e;o(cc.v2(f,n.height-p-1),s[d].name)}}}}),cc._RF.pop()},{}],DylWindow:[function(t,n,e){"use strict";function i(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}cc._RF.push(n,"f1099pPj+FP3oIXYJMx8XLx","DylWindow");var o=cc.Class({name:"NodeData",properties:{id:"",node:cc.Node,p:cc.v2(0,0),rotation:0,scaleX:1,scaleY:1,anchorX:.5,anchorY:.5,height:0,width:0,color:cc.color(255,255,255),opacity:255,skewX:0,skewY:0,active:!0,lab:""}}),a=cc.Class({name:"NodeDataArr",properties:{arr:[o]}});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2603 \u5f39\u7a97",executeInEditMode:!0,inspector:"packages://dyl-window/DylWindow.js"},ctor:function(){Object.defineProperty(this,"node",{get:function(){},set:function(t){delete this.node,this.node=t,this._myInit()},configurable:!0})},properties:{defaultData:{default:null,type:a},data:{default:[],type:a,visible:!1},showData:"default",_stateArr:{default:[],type:cc.String},stateArr:{default:[],type:cc.String}},_myInit:function(){var t=this;this.node.add=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return t.addFun(n,e)},this.node.del=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return t.delFun(n)}},getAction:function(t,n,e){if(!e.node.active)return[];var i=0,o=function(t){i=i>t?i:t},a=function(t,i){o(.4*Math.abs(e[t]-n[t])/i)};if(o(.4*e.p.sub(n.p).mag()/540),a("rotation",60),a("scaleX",.7),a("scaleY",.7),a("opacity",150),i<1e-4)return[];t.moveTo(e.node,i,e.p).rotateTo(e.node,i,e.rotation).scaleTo(e.node,i,e.scaleX,e.scaleY).fadeTo(e.node,i,e.opacity)},notActChange:function(t){for(var n=t.length-1;n>=0;n--){var e=t[n],i=e.node,o=e.anchorX,a=e.anchorY,r=e.height,c=e.width,h=e.color,u=e.skewX,l=e.skewY,s=e.active,d=e.lab;i.active=s,i.anchorX=o,i.anchorY=a,i.height=r,i.width=c,i.color=h,i.skewX=u,i.skewY=l,i.getComponent(cc.Label)&&(i.getComponent(cc.Label).string=d)}},addFun:function(t,n){if(t?this.showData=t:t=this.showData,"default"===t)return this._read("default");this._read(String(t)),n()},delFun:function(t){var n=this;if(this.node.active){if("default"===this.showData)return this.node.active=!1;var e=this.data[this.stateArr.indexOf(this.showData)].arr,i=tz();i._();for(var o=e.length-1;o>=0;o--)this.getAction(i,e[o],this.defaultData.arr[o]);i._()(function(){n.node.active=!1,t()})()}else t()},myAct:function(t){var n=this;if(t){this.node.active=!0;var e=this.node.scale,i=this.node.opacity,o=t>0?2:1,a=t>0?0:1,r=this.node;r.stopAllActions(),r.setScale(e*o),r.opacity=i*a;var c=cc.fadeTo(Math.abs(t),i*(1-a)),h=cc.scaleTo(Math.abs(t),e*(3-o)),u=cc.callFunc(function(){n.node.opacity=i,n.node.setScale(e),n.node.active=t>0}),l=cc.sequence(cc.spawn(c,h),u);r.runAction(l)}},_getString:function(t){return t.replace(/\s+/g,"")},_read:function(t){var n=null;if("default"===t)n=this.defaultData.arr;else for(var e=this.stateArr.length-1;e>=0;e--)this.stateArr[e]===t&&(n=this.data[e].arr);for(var i=n.length-1;i>=0;i--)if(n[i].node){var o=n[i].node,a=n[i];o.setPosition(a.p),o.rotation=a.rotation,o.scaleX=a.scaleX,o.scaleY=a.scaleY,o.anchorX=a.anchorX,o.anchorY=a.anchorY,o.color=a.color,o.opacity=a.opacity,o.skewX=a.skewX,o.skewY=a.skewY;var r=o.getComponent(cc.Label);if(r&&(r.string=a.lab),"Canvas"===o.name)this.node.getComponent(cc.Canvas).designResolution=cc.size(a.width,a.height);else o.height=a.height,o.width=a.width;o.active=a.active}},buttonSave:function(t){if("default"!==t)for(var n=this.stateArr.length-1;n>=0;n--)this.stateArr[n]===t&&(this.data[n]=this._getSaveData());else this.defaultData=this._getSaveData()},_save:function(t,n,e){if(this.stateArr[t]=n,"default"===n)return this.defaultData=this._getSaveData(),void(this.stateArr[t]="");this.data[t]=this._getSaveData(),""===n&&(this.stateArr[t]=e);for(var i=this.stateArr.length-1;i>=0;i--)if(this.stateArr[i]===this.stateArr[t]&&i!==t)return void(this.stateArr[t]="")},_getSaveData:function(){var t=new a;return t.arr=this._getSaveNodeArr(this.node),t},_getSaveNodeArr:function(t){for(var n=[this._addNodeData(t)],e=t.getChildren(),o=e.length-1;o>=0;o--)n.push.apply(n,i(this._getSaveNodeArr(e[o])));return n},_addNodeData:function(t){var n=new o;n.id=t.name,n.node=t,n.p=cc.v2(t),n.rotation=t.rotation,n.scaleX=t.scaleX,n.scaleY=t.scaleY,n.anchorX=t.anchorX,n.anchorY=t.anchorY,n.height=t.height,n.width=t.width,n.color=t.color,n.opacity=t.opacity,n.skewX=t.skewX,n.skewY=t.skewY,n.active=t.active;var e=t.getComponent(cc.Label);return e&&(n.lab=e.string),n},onLoad:function(){this.node.on("touchstart",function(){return null})}}),cc._RF.pop()},{}],DylWuli:[function(t,n,e){"use strict";cc._RF.push(n,"74127pcqJhKea7hsJnefXpC","DylWuli"),cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2604 \u7269\u7406",executeInEditMode:!0,inspector:"packages://dyl-nowshow/DylNotshow.js"},properties:{collisionFun:{default:function(){return new cc.Component.EventHandler},type:cc.Component.EventHandler}},__preload:function(){var t=this.node.getComponent(cc.RigidBody);Object.defineProperty(this.node,"v",{get:function(){return t.linearVelocity},set:function(n){t.linearVelocity=n}}),Object.defineProperty(this.node,"f",{get:function(){return t.linearDamping},set:function(n){t.linearDamping=n}}),Object.defineProperty(this.node,"a",{set:function(n){t.applyForceToCenter(n)}}),t.fixedRotation=!0,t.enabledContactListener=!0,""!==this.collisionFun.handler&&(this.collisionComponent=this.collisionFun.target.getComponent(this.collisionFun.component))},onEnable:function(){0},onBeginContact:function(t,n,e){this.collisionComponent&&(t.disabled=this.collisionComponent[this.collisionFun.handler](e.node))}}),cc._RF.pop()},{}],GameInit:[function(t,n,e){"use strict";cc._RF.push(n,"5a814RtxLFIKbCv0R+LSGNa","GameInit"),cc.Class({extends:cc.Component,properties:{topP:642,bottomP:-946},getMubiaoData:function(){for(var t=dyl._data.mubiao,n=[],e=0;e<11;e++)n[e]=[];for(var i in t){var o=t[i];n[o.monsterId].push(o)}return n},onLoad:function(){this.initAi()},initAi:function(){ai.barN=10,ai.barH=315,ai.barW=314;var t=Math.floor(.5*(ai.barN+1))*ai.barH;ai.minY=this.topP-.5*t,ai.maxY=this.bottomP+.5*t,hjm._allCoin.getComponent(cc.Label).string=calc.show(hjm.allCoin),ai.challengeData=this.getMubiaoData()}}),cc._RF.pop()},{}],GameMain:[function(t,n,e){"use strict";cc._RF.push(n,"08e40sNA75MDpIMslwF4jm+","GameMain"),cc.Class({extends:cc.Component,properties:{topP:642,bottomP:-946},hideGame:function(){var t=this;cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseMusic(),cc.audioEngine.pauseAllEffects(),cc.log("hideGame \u8fdb\u5165\u540e\u53f0"),t.hideStartTime=Date.now()})},showGame:function(){var t=this;cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("showGame \u8fdb\u5165\u524d\u53f0");for(var n=(Date.now()-t.hideStartTime)/1e3,e=hjm._bar.pool,i=1;i<11;i++){if(!hjm["lock"+i])e["tan"+i]._updateFun(n)}})},start:function(){cc.log("tttttttttttttt"),this.buffUpdateFun=tz(),this.node.button=[hjm._payNumButton],hjm._payNumButton.num=1,hjm._payNumButton.lab="X 1",this.addTanweis(),cc.log("rrrrrrrrrrrrrr");hjm.accTime;hjm.nowTime<1&&(hjm.nowTime=Date.now());var t=hjm.nowTime,n=Math.floor((Date.now()-t)/1e3);n>1&&this.offlineReward(n),tz(function(t){return t-1},function(){hjm.accTime>0&&hjm.accTime--},-1e8)},oneAllPrice:function(){for(var t=dyl._data.monster,n=[0],e=1;e<11;e++)if(!hjm["lock"+e]){var i=calc.mul(hjm["price"+e],hjm["weight"+e]),o=hjm["times"+e];(o/=t[e].time)<1?(o=Math.floor(1e5*o),i=calc.mul(i,o),i=calc.rightMove(i,3),i=calc.rightMove(i,2),cc.log("price",i)):(o=Math.floor(100*o),i=calc.mul(i,o),i=calc.rightMove(i,2),cc.log("price",i)),n=calc.add(n,i)}return n},offlineReward:function(t){var n=t;hjm.accTime>t?(hjm.accTime=hjm.accTime-t,t*=2):hjm.accTime<t&&(hjm.accTime>0&&(t+=hjm.accTime),hjm.accTime=0);var e=this.oneAllPrice(),i=calc.mul(e,t);return this.popupOffline(n,i),i},popupOffline:function(t,n){hjm._offlineReward.active=!0,hjm._offlineReward.time=this.getTimeStr(t),hjm._offlineReward.coin=calc.show(n)},accTimeButton:function(){if(hjm.accTime<=0)hjm.accTime=10800;else{if(hjm.accTime>=86400)return;hjm.accTime+=10800}},payNumButton:function(){var t=function(t){for(var n=0;n<10;n++)hjm._bar.pool[n].payNum=t},n=hjm._payNumButton;n.all=!1,1===n.num?(n.num=10,n["UI-"+(100+n.num)]=!0,t(10)):10===n.num?(n.num=100,n["UI-"+(100+n.num)]=!0,t(100)):100===n.num?(n.num=-1,n["UI-max"]=!0):-1===n.num&&(n.num=1,n["UI-"+(100+n.num)]=!0,t(1))},touchOn:function(t){this.touchButton=null;for(var n=[],e=0;e<10;e++){var i=e+1,o=hjm._bar.pool["tan"+i],a=null;a=hjm["lock"+i]?o.lockPayButton:o.button,n.push(a)}var r=t.in.apply(t,n);return r&&(this.touchButton=r,r.opacity=0),!0},updateWeightBar:function(t){var n=hjm._bar.pool["tan"+t].weightBar,e=hjm["challenge"+t],i=hjm["weight"+t],o=ai.challengeData[t],a=o[e].weight,r=0;e>0&&(r=o[e-1].weight);var c=(i-r)/(a-r);n.width=104*c},addWeight:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];hjm["weight"+t]+=n;for(var i=hjm["challenge"+t],o=hjm["weight"+t],a=ai.challengeData[t];;){var r=a[i];if(!r)break;if(!(r.weight<=o))break;e?this.addBuff_notAct(r.addMonster,r.addValue):this.addBuff(r.addMonster,r.addValue),i++}hjm["challenge"+t]=i,this.updateWeightBar(t)},allTouziButton:function(t){var n,e,i=[],o=0,a=hjm._touziDataBar.pool,r=hjm.allCoin;for(o=0;o<hjm.touziIdArr.length;o++){var c=a["touzi"+hjm.touziIdArr[o]],h=calc.sub(r,c.count);if(null===h)break;this.addBuff_notAct(c.Buff_ID,c.BuffValue),r=h,c.del()}if(o<hjm.touziIdArr.length){var u=0;for(o=o;o<hjm.touziIdArr.length;o++){var l=hjm.touziIdArr[o];a["touzi"+l].y=-250*u++,i.push(l)}}else{for(var s=hjm.touziEndId;;){var d=dyl._data.touzi[s+10001];if(!d)break;var f=calc.getTouziBigNum(d.Count,d.Unit),p=calc.sub(r,f);if(null===p)break;this.addBuff_notAct(d.Buff_ID,d.BuffValue),r=p,s++}hjm.touziEndId=s}(n=cc).log.apply(n,["idArr0"].concat(i));var m=hjm.touziEndId;for(o=i.length;o<10;o++){var g=dyl._data.touzi[m+10001];if(!g)break;var y=hjm._touziDataBar.add("touzi"+m);y.id=m,y.Count=g.Count,y.Unit=g.Unit,y.Buff_ID=g.Buff_ID,y.BuffValue=g.BuffValue,y.y=-250*o;var v=dyl.data("Buff_ID."+g.Buff_ID).Buff+" x "+g.BuffValue,_=g.Buff_ID%100;hjm["tan"+_]=y.tan,y.lab=v,y.count=calc.getTouziBigNum(g.Count,g.Unit),y.countLab=calc.show(y.count),i.push(m),m++}(e=cc).log.apply(e,["idArr1"].concat(i)),hjm.touziIdArr=i,hjm.touziEndId=m,hjm.allCoin=r},touziButton:function(t){var n=t.target.parent,e=n.id,i=n.Buff_ID,o=n.BuffValue,a=calc.sub(hjm.allCoin,n.count);if(null!==a){hjm.allCoin=a,this.addBuff_notAct(i,o),n.del();for(var r=[],c=0;c<hjm.touziIdArr.length;c++)e!==hjm.touziIdArr[c]&&r.push(hjm.touziIdArr[c]);for(var h=hjm._touziDataBar.pool,u=0;u<r.length;u++)h["touzi"+r[u]].y=-250*u;var l=hjm.touziEndId,s=dyl._data.touzi[l+10001];if(s){hjm.touziEndId++,r.push(l);var d=hjm._touziDataBar.add("touzi"+l);d.id=l,d.Count=s.Count,d.Unit=s.Unit,d.Buff_ID=s.Buff_ID,d.BuffValue=s.BuffValue,d.y=-250*(h.length-1);var f=dyl.data("Buff_ID."+s.Buff_ID).Buff+" x "+s.BuffValue,p=s.Buff_ID%100;100===s.Buff_ID?p=11:101===s.Buff_ID&&(p=12),hjm["tan"+p]=d.tan,d.lab=f,d.count=calc.getTouziBigNum(s.Count,s.Unit),d.countLab=calc.show(d.count)}hjm.touziIdArr=r}},jitianButton1:function(){var t=this;hjm.allCoin=calc.sub(hjm.allCoin,hjm.jitianCost),hjm.jitianCost=calc.mul(hjm.totalCoin,3),hjm.jitianStartTime=hjm.nowTime,hjm("jitian"),hjm.nowShouling=calc.getShoulingNum(hjm.totalCoin);for(var n=function(n){var e=n+1,i=hjm._bar.pool["tan"+e];dyl.data("monster."+String(e),i,{pay:function(t){return 0===hjm["pay"+e].length&&(hjm["pay"+e]=calc.numberToArr(t)),null},price:function(t){if(0===hjm["price"+e].length){var n=calc.mul(hjm.nowShouling,hjm.shoulingAdd);n=calc.rightMove(n,3),hjm["price"+e]=calc.mul(n,t)}return null},unlockReward:function(t){return calc.numberToArr(t)}});t.showBar(i),hjm["lock"+e]?t.unLock(i,!1):(t.unLock(i,!0),t.updateWeightBar(e))},e=0;e<10;e++)n(e);hjm._endJitian.allShouling=hjm._jitian.allShouling;var i=calc.mul(hjm.nowShouling,hjm.shoulingAdd);i=calc.rightMove(i,3),hjm._endJitian.allAdd=calc.show(hjm.nowShouling),hjm._jitian.active=!1,hjm._endJitian.active=!0},jitianButton2:function(){for(var t=[],n=0;n<10;n++){var e=n+1;t[e]=hjm["weight"+e]-1}this.jitianButton1();for(var i=0;i<10;i++){var o=i+1;this.addWeight(o,t[o],!0)}},addBuff_notAct:function(t,n){var e=function(t,n,e){if(t>0)return e(t,n);for(var i=1;i<=10;i++)e(i,n)},i=t%100;100===t?i=11:101===t&&(i=12),0<=t&&t<=10?e(i,n,function(t,n){hjm["price"+t]=calc.mul(hjm["price"+t],n)}):100===t||(101===t?cc.log("\u8fd9\u662f\u91d1\u5e01\u7684\u589e\u52a0\uff0c\u6682\u65f6\u4e5f\u8fd8\u662f\u6ca1\u6709"):200<=t&&t<=210?e(i,n,function(t,n){hjm["weight"+t]+=n}):300<=t&&t<=310?e(i,n,function(t,n){hjm["pay"+t]=calc.getPctTimes(hjm["pay"+t],n)}):401<=t&&t<=410&&e(i,n,function(t,n){hjm["times"+t]=hjm["times"+t]*n}))},addBuff:function(t,n){var e=dyl.data("Buff_ID."+t).Buff+" x "+n,i=t%100;100===t?i=11:101===t&&(i=12),hjm["tan"+i]=hjm._challengeAlert.tan,hjm._challengeAlert.lab=e,this.buffUpdateFun(),hjm._challengeAlert.active=!0,hjm._challengeAlert.y=1700;var o=[hjm._challengeAlert,[.5,cc.v2(0,780)],3,function(){hjm._challengeAlert.active=!1}];this.buffUpdateFun=tz.apply(void 0,o),this.addBuff_notAct(t,n)},touchOut:function(t){this.touchButton&&(this.touchButton.opacity=255),this.touchButton=null},touchUp:function(t){if(!this.touchButton)return!0;if(t.in(this.touchButton)){var n=this.touchButton;n.opacity=255;var e=n.parent,i=e.id;if(hjm["lock"+i]){var o=calc.sub(hjm.allCoin,e.unlockReward);return!o||(this.unLock(e,!0),hjm["lock"+i]=!1,hjm.allCoin=o,!0)}for(var a=n.parent,r=a.payNum,c=hjm["pay"+a.id],h=c,u=a.payAdd,l=1;l<r;l++)c=calc.mul(c,u),c=calc.rightMove(c),h=calc.add(h,c);var s=calc.sub(hjm.allCoin,h);s&&(hjm.allCoin=s,this.addWeight(i,a.payNum),c=calc.mul(c,u),c=calc.rightMove(c),hjm["pay"+a.id]=c)}},addTanweis:function(){for(var t=this,n=ai.barN,e=.5*(Math.floor(.5*(n+1))-1)*ai.barH,i=function(n){var i=n+1,o=hjm._bar.add("tan"+String(i));o.x=n%2==0?.5*-ai.barW:.5*ai.barW,o.y=e-Math.floor(.5*n)*ai.barH,o.weightBarLen=o.weightBar.width,o.priceBarLen=175;dyl.data("monster."+String(i),o,{pay:function(t){return 0===hjm["pay"+i].length&&(hjm["pay"+i]=calc.numberToArr(t)),null},price:function(t){return 0===hjm["price"+i].length&&(hjm["price"+i]=calc.numberToArr(t)),null},unlockReward:function(t){return calc.numberToArr(t)}});o.id=i,o.payNum=1,t.showBar(o),hjm["lock"+i]?t.unLock(o,!1):(t.unLock(o,!0),t.updateWeightBar(i))},o=0;o<n;o++)i(o);hjm._main.y=-500},unLock:function(t,n){n?(t.tan1.color=cc.color(255,255,255),t.lock=!1,t.lockPay=!1,t.lockPay="",t.lockPayButton=!1,t.updateFun(!0)):(t.tan1.color=cc.color(0,0,0),t.lock=!0,t.lockPay=!0,t.lockPay=calc.show(t.unlockReward),t.lockPayButton=!0,t.updateFun(!1))},updateAccTime:function(){var t=hjm.accTime;t<0&&(t=0);var n=this.getTimeStr(t);hjm._accTime.lab=n},updateTanData:function(){for(var t=0;t<10;t++){var n=t+1,e=hjm._bar.pool["tan"+n];if(hjm["lock"+n])calc.sub(hjm.allCoin,e.unlockReward)?e.lockPayButton=!0:e.lockPayButton=!1;else{for(var i=e.payNum,o=hjm["pay"+e.id],a=o,r=e.payAdd,c=1;c<i;c++)o=calc.mul(o,r),o=calc.rightMove(o),a=calc.add(a,o);calc.sub(hjm.allCoin,a)?e.button=!0:e.button=!1,this.updateMaxPayNum(e),e.payNumStr=String(e.payNum)+"\u6b21",e.weightStr=String(hjm["weight"+e.id])+"\u4efd",hjm._allCoin.getComponent(cc.Label).string=calc.show(hjm.allCoin);var h=hjm.accTime>0?2:1;e.priceStr=calc.show(calc.mul(calc.mul(hjm["price"+e.id],h*hjm["weight"+e.id]),e.times)),e.payStr=calc.show(a);var u=e.payStr.length;u=124-14*u,a.length>2&&(u-=11),e.payCoin.x=u}}},updateMaxPayNum:function(t){if(!(hjm._payNumButton.num>0))for(var n=hjm["pay"+t.id],e=hjm.allCoin,i=t.payAdd,o=0;o<1e4;o++){if(!(e=calc.sub(e,n))){0===o&&(o=1),t.payNum=o;break}n=calc.mul(n,i),n=calc.rightMove(n)}},update:function(t){this.updateTanData(),this.updateAccTime(),hjm.nowTime=Date.now()},getTimeStr:function(t){var n=(t=Math.floor(t))%60,e=(t=(t-n)/60)%60,i=String((t-e)/60)+":";return i=e<10?i+"0"+String(e)+":":i+String(e)+":",n<10?i=i+"0"+String(n):i+=String(n),i},showBar:function(t){var n=this,e=t.id;hjm["tan"+e]=t.tan1,hjm["tu"+(200+e)]=t.lock,t.payNumStr=String(t.payNum)+"\u6b21",t.weightStr=String(hjm["weight"+e])+"\u4efd",t.priceStr=calc.show(calc.mul(hjm["price"+e],hjm["weight"+e])),t.payStr=calc.show(hjm["pay"+e]),t.times=1;var i=t.time,o=0,a="times"+e,r=0,c=function(){var e=i/hjm[a];e<2?t.timeStr=!1:(t.timeStr=!0,t.timeStr=n.getTimeStr(r)),e<.2?(t.maxPriceBar=!0,t.times=Math.floor(1/e),o=1):(t.maxPriceBar=!1,t.priceBar.width=r>=o?0:r<=0?t.priceBarLen:t.priceBarLen*(1-r/o),t.times=1,o=e)};c(),r=o;t.updateFun&&t.updateFun(),t.updateFun=dyl.update(function(e){if(r-=e,c(),r<=0){r=o-r;var i=hjm.accTime>0?2:1;n.addToAllCoin(calc.mul(calc.mul(hjm["price"+t.id],i*hjm["weight"+t.id]),t.times))}return!0}),t.updateFun(!1)},addToAllCoin:function(t){hjm.allCoin=calc.add(hjm.allCoin,t),hjm.totalCoin=calc.add(hjm.totalCoin,t)}}),cc._RF.pop()},{}],Jitian:[function(t,n,e){"use strict";cc._RF.push(n,"0e6b7l9ADdGBrr2B/naV7JL","Jitian");var i=function(){function t(t,n){var e=[],i=!0,o=!1,a=void 0;try{for(var r,c=t[Symbol.iterator]();!(i=(r=c.next()).done)&&(e.push(r.value),!n||e.length!==n);i=!0);}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.nowShouling=calc.show(hjm.nowShouling)},update:function(t){cc.log("00000000000000");var n=calc.getShoulingNum(hjm.totalCoin);cc.log("11111111111",n),cc.log("333333333",calc.show(n)),this.node.allShouling=calc.show(n),cc.log("22222222222222");var e=null;1===hjm.nowShouling.length&&0===hjm.nowShouling[0]?(this.node.allAdd="1",e=[0,1]):(e=calc.mul(hjm.nowShouling,hjm.shoulingAdd),e=calc.rightMove(e,3),this.node.allAdd=calc.show(hjm.nowShouling));var o=calc.sub(n,hjm.nowShouling);this.node.nextShouling=calc.show(o);var a=function(t,n){var e=function(t){if(cc.log("jjjjj",t),t.length<2)return[t[0],-4];var n=t.length,e=t[n-1],i=0;return n<=5?(e+=t[n-2]/1e4,i+=4):(e+=t[n-2]/1e3,i+=3),[e,i+=n<=6?4*(n-3):3*(n-3)+3]},o=e(t),a=i(o,2),r=a[0],c=a[1],h=e(n),u=i(h,2),l=u[0],s=u[1];cc.log("++++",r,l,c,s);var d=c-s;return r/l*Math.pow(10,d)}(o,e);this.node.nextAdd=Math.floor(1e3*a)/1e3;var r=hjm.nowTime-hjm.jitianStartTime;(r=108-r)<=0?(this.node.leftTime=this.getTimeStr(0),this.node.timeOk=!0,this.node.notimeOk=!1):(this.node.leftTime=this.getTimeStr(r/1e3),this.node.timeOk=!1,this.node.notimeOk=!0);var c=calc.sub(hjm.jitianCost,hjm.allCoin);c?(this.node.leftCoin=calc.show(c),this.node.coinOk=!1,this.node.nocoinOk=!0):(this.node.leftCoin="0",this.node.coinOk=!0,this.node.nocoinOk=!1);var h=this.oneAllPrice();this.node.price=calc.show(h),this.node.jitianButton=r<=0&&!c},oneAllPrice:function(){for(var t=dyl._data.monster,n=[0],e=1;e<11;e++)if(!hjm["lock"+e]){var i=calc.mul(hjm["price"+e],hjm["weight"+e]),o=hjm["times"+e];(o/=t[e].time)<1?(o=Math.floor(1e5*o),i=calc.mul(i,o),i=calc.rightMove(i,3),i=calc.rightMove(i,2),cc.log("price",i)):(o=Math.floor(100*o),i=calc.mul(i,o),i=calc.rightMove(i,2),cc.log("price",i)),n=calc.add(n,i)}return n},getTimeStr:function(t){var n=(t=Math.floor(t))%60,e=(t=(t-n)/60)%60,i=String((t-e)/60)+":";return i=e<10?i+"0"+String(e)+":":i+String(e)+":",n<10?i=i+"0"+String(n):i+=String(n),i}}),cc._RF.pop()},{}],NewScript:[function(t,n,e){"use strict";cc._RF.push(n,"8dec2Dvn8NN84yJxSFsskAu","NewScript"),cc.Class({extends:cc.Component,properties:{},start:function(){cc.director.loadScene("play")}}),cc._RF.pop()},{}],OldTz:[function(t,n,e){"use strict";cc._RF.push(n,"3fe37RQFypN+ZLDtUJC8dXA","OldTz"),cc._RF.pop()},{}],Sound:[function(t,n,e){"use strict";cc._RF.push(n,"c3986swwv1L9IEkETzLCk3K","Sound"),cc.Class({extends:cc.Component,properties:{bgm:{default:null,type:cc.AudioClip},soundArr:{default:[],type:cc.AudioClip}},onLoad:function(){var t=cc.audioEngine;t.playMusic(this.bgm,!0);for(var n={},e=0;e<this.soundArr.length;e++){var i=this.soundArr[e];n[i.name]=i}ai.say=function(e){t.playEffect(n[e],!1)}},onDestroy:function(){cc.audioEngine.stop(this.current)}}),cc._RF.pop()},{}],Touzi:[function(t,n,e){"use strict";cc._RF.push(n,"6bd24gDVwNK7I5ZbMKoqn/0","Touzi"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){for(var t=hjm._touziDataBar,n=function(n,e){var i=dyl._data.touzi[n+10001];if(!i)return!1;var o=t.add("touzi"+n);o.id=n,o.Count=i.Count,o.Unit=i.Unit,o.Buff_ID=i.Buff_ID,o.BuffValue=i.BuffValue,o.y=-230*e;var a=dyl.data("Buff_ID."+i.Buff_ID).Buff+" x "+i.BuffValue,r=i.Buff_ID%100;return 100===i.Buff_ID?r=11:101===i.Buff_ID&&(r=12),hjm["tan"+r]=o.tan,o.lab=a,o.count=calc.getTouziBigNum(i.Count,i.Unit),o.countLab=calc.show(o.count),!0},e=0;e<hjm.touziIdArr.length;e++){n(hjm.touziIdArr[e],e)}},update:function(t){for(var n=hjm._touziDataBar.pool,e=hjm.allCoin,i=!1,o=0;o<n.length;o++){var a=n[o];null!==calc.sub(e,a.count)?(i=!0,a.button=!0):a.button=!1}hjm._allTouziButton.active=i},onEnable:function(){hjm._touziDataBar.parent.y=649}}),cc._RF.pop()},{}]},{},["DylAd","DylBar","DylButton","DylLab","DylList","DylMain","DylPool","DylTileMap","DylWindow","DylWuli","OldTz","NewScript","ActiveButton","Calc","Challenge","GameInit","GameMain","Jitian","Sound","Touzi"]);